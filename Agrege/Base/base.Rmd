Database for LASSOVAR ESTIMATION
========================================================

We use 5 type of databse : 
- AWM
- IMF (IFS)
- ECB
- EUROSTAT
- DATASTREAM



#### AWM Database :

Open the AWM data : 
```{r}
data <- read.csv("Agrege/Base/AWM/AWM18UP14.csv")
```


Creation of the variable "compensation per employee" : 
```{r}
data$CPE=data$WIN/data$LEN
```

Extracting subset of AWM data and creating a ts object
```{r}
subset<-subset(data, select=c("COMPR", "PCOMU", "POILU", "HEG", "HEXSA", "HICPSA", "HICP","EEN", "EXR", "STN", "LTN" , "URX", "YER", "XTR", "MTR", "CPE", "YWRX"))
subsets<-ts(subset,frequency=4, start=1970)
```


Making transformation required :
```{r}
COMPR<-log(subsets[,"COMPR"])
POILU<-log(subsets[,"POILU"])
PCOMU<-log(subsets[,"PCOMU"])
HEG<-log(subsets[,"HEG"])
HEXSA<-log(subsets[,"HEXSA"])
HICPSA<-log(subsets[,"HICPSA"])
HICP<-log(subsets[,"HICP"])

EEN<-subsets[,"EEN"]
EXR<-subsets[,"EXR"]
URX<-subsets[,"URX"]
STN<-subsets[,"STN"]/100
LTN<-subsets[,"LTN"]/100

YWRX<-log(subsets[,"YWRX"])
YER<-log(subsets[,"YER"])
CPE<-log(subsets[,"CPE"])
MTR<-log(subsets[,"MTR"])
XTR<-log(subsets[,"XTR"])

```



#### ECB Database :


***Monetary Agregate :***
```{r}
dataMagreg <- read.csv("Agrege/Base/ECB/dataMagreg.csv", sep=";")
dataMagreg$X<-NULL

monthly <- ts(dataMagreg,start=c(1970,1),frequency=12)
quarterly <- aggregate(monthly, nfrequency=4)/3
logquarterly <- log(quarterly)

M1<-logquarterly[,"M1"]
M3<-logquarterly[,"M3"]
```

***Loans :***
```{r}
loans <- read.csv("Agrege/Base/ECB/loans.csv", sep=";")
loans$date<-NULL

monthly2 <- ts(loans[2:196,],start=c(1997,10),frequency=12)
quarterly2 <- aggregate(monthly2, nfrequency=4)/3
logquarterly2 <- log(quarterly2)
LFI<-logquarterly2[,"LFI"]
LHO<-logquarterly2[,"LHO"]
```


***Price Producer Index :***
```{r}
PPI <- read.csv("Agrege/Base/ECB/PPI.csv")

monthly3 <- ts(rev(PPI[,2]),start=c(1981,1),frequency=12)
quarterly3 <- aggregate(monthly3, nfrequency=4)/3
PPI <- log(quarterly3)
```




#### IMF Database :

Libor 3 month (United States) :
```{r}
LIB3M <- read.csv("Agrege/Base/IMF/LIB3M.csv")
LIB<-ts(LIB3M,start=c(1970,1),frequency=4)/100

```


#### EUROSTAT Database :

Economic sentiment indicator : 
```{r}
ESIdata <- read.csv("Agrege/Base/EUROSTAT/ESIdata.csv")
indiceco<-ESIdata$Value
ESIts<-ts(rev(indiceco),start=c(1985,1),frequency=12)

ESIq<-aggregate(ESIts, nfrequency=4)/3

ESI <- ESIq/100
```

#### DATASTREAM Database :
```{r}
dowEuroStoxx <- read.csv("Agrege/Base/Datastream/dowEuroStoxx.csv", sep=";", dec=",")
DJES<-ts(dowEuroStoxx[1:108,2],start=c(1987,1),frequency=4)
DJES<-log(DJES)

```

### Merge of the different variable into a dataframe

```{r}
vardata<-as.ts(cbind(COMPR, PCOMU, POILU, HEG, HEXSA, HICPSA, HICP,EEN, EXR, STN, LTN , URX, YER, XTR, MTR, CPE, YWRX, LHO, LFI , M1 , M3 ,ESI, LIB, PPI, DJES ))
vardataframe<-data.frame(vardata[1:176,])

```





